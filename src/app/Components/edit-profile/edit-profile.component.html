<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
<section class="card-section" style="padding-top: 0px;">
  <div class="wrapper page-content">
    <div class="inner">
      <form [formGroup]="UpdateForm" (ngSubmit)="submit()">
        <div class="form-group image-upload-section">
          <img *ngIf="imagePreview" [src]="imagePreview" alt="Profile Image" style="width: 80px; height: 80px; margin-bottom: 10px; object-fit: cover; border-radius: 50%;">
          <img *ngIf="!imagePreview" src="/assets/images/profileimages/cvv.jpg" alt="Default Image" style="width: 80px; height: 80px; margin-bottom: 10px; object-fit: cover; border-radius: 50%;">
          <label for="image" class="custom-file-label">Change Photo</label>
          <input type="file" id="image" (change)="onImageSelected($event)" class="form-control file-input" accept="image/*" style="display: none;" />
        </div>

        <div class="form-group triple-input">
          <div style="width: 100%">
            <input
              type="text"
              placeholder="First Name"
              class="form-control"
              formControlName="firstName"
            />
            @if (firstName?.touched && firstName?.dirty &&
            firstName?.getError('required')) {
            <div class="error-message">First Name is required</div>
            }
            <div
              class="error-message"
              *ngIf="UpdateForm.get('firstName')?.errors?.['pattern']"
            >
              First Name Must Be From 2-20 Characters
            </div>
          </div>

          <div style="width: 100%">
            <input
              type="text"
              placeholder="Last Name"
              class="form-control"
              formControlName="lastName"
            />
            @if (lastName?.touched && lastName?.dirty &&
            lastName?.getError('required')) {
            <div class="error-message">Last Name is required</div>
            }
            <div
              class="error-message"
              *ngIf="UpdateForm.get('lastName')?.errors?.['pattern']"
            >
              Last Name Must Be From 2-20 Characters
            </div>
          </div>

          <div style="width: 100%">
            <input
              type="text"
              placeholder="UserName"
              class="form-control"
              formControlName="userName"
            />
            @if (userName?.touched && userName?.dirty &&
            userName?.getError('required')) {
            <div class="error-message">Username is required</div>
            }
          </div>
        </div>

        <!-- Email -->
        <div class="form-wrapper">
          <input
            type="text"
            placeholder="Email Address"
            class="form-control"
            formControlName="email"
          />
          <i class="fas fa-envelope"></i>
        </div>
        @if (email?.touched&& email?.dirty) { @if (email?.getError('required')) {
        <div class="error-message">Email is required</div>
        } @if (email?.getError('email')) {
        <div class="error-message">Invalid email format</div>
        } }
        <!-- Phone -->
        <div class="form-wrapper">
          <input
            type="text"
            placeholder="Phone Number"
            class="form-control"
            formControlName="phoneNumber"
          />
          <i class="fas fa-phone"></i>
        </div>

        @if (phoneNumber?.touched&& phoneNumber?.dirty) { @if
        (phoneNumber?.getError('required')) {
        <div class="error-message">Phone Number is required</div>
        } @if (phoneNumber?.getError('pattern')) {
        <div class="error-message">
          Phone Number must be 11 digits long and start with 0
        </div>
        } }


        <!-- City, State, Street -->
        <div class="form-group triple-input">
          <div style="width: 100%">
            <input
              type="text"
              placeholder="City"
              class="form-control"
              formControlName="city"
            />
            @if (city?.touched && city?.dirty && city?.getError('required')) {
            <div class="error-message">City is required</div>
            }
            <div
              class="error-message"
              *ngIf="UpdateForm.get('city')?.errors?.['pattern']"
            >
              City Must Be From 2-20 Characters
            </div>
          </div>

          <div style="width: 100%">
            <input
              type="text"
              placeholder="State"
              class="form-control"
              formControlName="state"
            />
            @if (state?.touched && state?.dirty && state?.getError('required')) {
            <div class="error-message">State is required</div>
            }
            <div
              class="error-message"
              *ngIf="UpdateForm.get('state')?.errors?.['pattern']"
            >
              State Must Be From 2-20 Characters
            </div>
          </div>

          <div style="width: 100%">
            <input
              type="text"
              placeholder="Street"
              class="form-control"
              formControlName="street"
            />
            @if (street?.touched && street?.dirty && street?.getError('required')) {
            <div class="error-message">Street is required</div>
            }
          </div>
        </div>




        <!-- Button -->
        <button class="btn btn-primary" type="submit">
          Save
        </button>
      </form>
    </div>
  </div>
</section>